<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="keywords" content="">
        <meta name="description" content="">
        <!-- 浏览器标签标题 Start -->
        <title>前端学习框架教程</title>
        <!-- 浏览器标签标题 End -->
        <!-- 浏览器标签图标 Start -->
            <link rel="shortcut icon" href="favicon.ico">
        <!-- 浏览器标签图标 End -->
        <!-- 页面样式 资源 Start -->
            <!-- <link href="vendor/bootstrap/bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet"> -->
        <!-- 页面样式 资源 End -->
    </head>
    <body>
        <h1>nigx多个域名转发测试页</h1>
        <p>结果：</p>
        <div id = "result_div_id">
        </div>
        <!-- js资源 Start -->
            <!-- jQuery js资源 Start -->
            <script src="http://cdn.static.runoob.com/libs/jquery/1.10.2/jquery.min.js"></script>
            <!-- jQuery js资源 End -->
            <!-- bootstrap 基础 js资源 Start -->
            <!-- bootstrap 基础 js资源 End -->
            <!-- 框架公共js配置 Start -->
            <!-- 框架公共配置 End -->
            <!-- 自定义js Start -->
                <script>
                /** 
                 *  接口请求路由
                 *  @param   str    路由名
                 *  @return  json   
                 */
                // function ajaxMethod(str,requestdata) {
                //     var oLink = urlLink(str);
                //     var result = {};
                //     console.log("我准备好了---开始ajax请求===");
                //     console.log(oLink);
                //     $.ajax({
                //         type: oLink.method,
                //         url: '${url}' + oLink.url,
                //         data: requestdata,
                //         dataType:'json',
                //         async:false,
                //         cache:false,
                //         success:function (responsedata) {
                //             console.log('请求完成--输出响应结果：');
                //             result = responsedata;
                //             console.log(result);
                //             // // 执行根据返回结果，进行相关操作
                //             // if(data.code == '1012' ||data.code == 1012 )
                //             // {
                //             //      window.location.href = 'index.html';
                //             // }
                //             // if(data.status == '0'){
                //             //     layerMes(data.msg);
                //             // }
                //         },
                //         error:function (xhr,textStatus) {
                //             if(xhr == 504){
                //                 // layerMes('请求超时，请稍后再试。');
                //                 console.log('请求超时，请稍后再试。');
                //             }else{
                //                 // layerMes('连接出错，请稍后再试。');
                //                 console.log('连接出错，请稍后再试。');
                //             }
                //             result.status = 0;
                //         }
                //     });
                //     return result;
                // }



                function ajaxMethod1(str,requestdata) {
                    var oLink = urlLink(str);
                    console.log(oLink);
                    var result = {};
                    console.log("我准备好了---开始ajax请求===");
                    $.ajax({
                        type: oLink.method,
                        url: 'http://127.0.0.1:8088/'+'${url1}' + oLink.url,
                        data: requestdata,
                        dataType:'json',
                        async:false,
                        cache:false,
                        success:function (responsedata) {
                            console.log('请求完成--输出响应结果：');
                            result = responsedata;
                            console.log(result);
                            // // 执行根据返回结果，进行相关操作
                            // if(data.code == '1012' ||data.code == 1012 )
                            // {
                            //      window.location.href = 'index.html';
                            // }
                            // if(data.status == '0'){
                            //     layerMes(data.msg);
                            // }
                        },
                        error:function (xhr,textStatus) {
                            if(xhr == 504){
                                // layerMes('请求超时，请稍后再试。');
                                console.log('请求超时，请稍后再试。');
                            }else{
                                // layerMes('连接出错，请稍后再试。');
                                console.log('连接出错，请稍后再试。');
                            }
                            result.status = 0;
                        }
                    });
                    return result;
                }



                function ajaxMethod2(str,requestdata) {
                    var oLink = urlLink(str);
                    console.log(oLink);
                    var result = {};
                    console.log("我准备好了---开始ajax请求===");
                    $.ajax({
                        type: oLink.method,
                        url: 'http://127.0.0.1:8088/'+'${url2}' + oLink.url,
                        data: requestdata,
                        dataType:'json',
                        async:false,
                        cache:false,
                        success:function (responsedata) {
                            console.log('请求完成--输出响应结果：');
                            result = responsedata;
                            console.log(result);
                            // // 执行根据返回结果，进行相关操作
                            // if(data.code == '1012' ||data.code == 1012 )
                            // {
                            //      window.location.href = 'index.html';
                            // }
                            // if(data.status == '0'){
                            //     layerMes(data.msg);
                            // }
                        },
                        error:function (xhr,textStatus) {
                            if(xhr == 504){
                                // layerMes('请求超时，请稍后再试。');
                                console.log('请求超时，请稍后再试。');
                            }else{
                                // layerMes('连接出错，请稍后再试。');
                                console.log('连接出错，请稍后再试。');
                            }
                            result.status = 0;
                        }
                    });
                    return result;
                }



                /** 
                 *  接口请求路由
                 *  @param   str    路由名
                 *  @return  json   
                 */
                function urlLink(str)
                {
                    // 【 请求路由列表 】
                    var url = {
                        // 【 测试 】 ==================================================
                            server1:{//服务1
                                method:'get',
                                url:'/server1.php'
                            },
                            server2:{//服务2
                                method:'get',
                                url:'/server2.php'
                            }
                    }
                    return url[str];
                }
                // 加载完自动执行
                $(function()
                {
                       console.log("我准备好了---本页面js===");
                       // var str0 = 'server1';
                       // var ret0 =ajaxMethod(str0);
                       
                       var str1 = 'server1';
                       var str2 = 'server2';
                       var ret1 =ajaxMethod1(str1);
                       var ret2 =ajaxMethod2(str2);
                       // console.log(ret0);
                       console.log(ret1);
                       console.log(ret2);
                       // result_div_id
                       // var json_str = eval('(' + ret1 + ')');
                       // console.log(json_str);
                })
                                </script>
            <!-- 自定义js End -->
        <!-- js资源 End -->
    </body>
</html>